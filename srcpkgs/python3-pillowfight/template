# Template file for 'python3-pillowfight'
pkgname=python3-pillowfight
version=0.3.0
revision=1
build_style=python3-module
hostmakedepends="python3-nose"
makedepends="python3-devel"
case $XBPS_TARGET_MACHINE in
	x86_64*) depends+=" python3-pillow-simd" ;;
	*) depends+=" python3-Pillow" ;;
esac
checkdepends="python3-Pillow"
short_desc="Python bindings for libpillowfigh"
maintainer="idealist1508 <id1508-github@yahoo.com>"
license="GPL-3.0-or-later"
homepage="https://gitlab.gnome.org/World/OpenPaperwork/libpillowfight"
distfiles="https://gitlab.gnome.org/World/OpenPaperwork/libpillowfight/-/archive/${version}/libpillowfight-${version}.tar.bz2"
checksum=0f39a6b0099bf246e961e30ddb9d3c19e8f9460ee24fbfa5c463cda196209327
python_version=3

pre_build() {
	cat > src/pillowfight/_version.h <<- EOF || die
		#define INTERNAL_PILLOWFIGHT_VERSION "$version"
	EOF
}
